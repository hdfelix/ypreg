$(document).ready(function(){function t(){for(var t=new Array(20),e=0;e<t.length;e++)t[e]=[5+r(),10+r(),15+r(),20+r(),30+r(),35+r(),40+r(),45+r(),50+r()];return t}function e(t,e,a){return new Date(t,e-1,a).getTime()}function a(t,e){return'<div class="donut-label">'+t+"<br/>"+Math.round(e.percent)+"%</div>"}function r(){return Math.floor(80*Math.random())}function o(t){var a=[[e(2013,10,21),188],[e(2013,10,22),205],[e(2013,10,23),250],[e(2013,10,24),230],[e(2013,10,25),245],[e(2013,10,26),260],[e(2013,10,27),290]],r=[[e(2013,10,21),10],[e(2013,10,22),20],[e(2013,10,23),55],[e(2013,10,24),50],[e(2013,10,25),45],[e(2013,10,26),60],[e(2013,10,27),75]];$.plot(t,[{data:a,label:"Visits",lines:{show:!0,lineWidth:2,fill:!0},points:{show:!0,lineWidth:3,fill:!0,fillColor:"#fafafa"}},{data:r,label:"Sales",lines:{show:!0,fill:!0},points:{show:!0,fill:!0,fillColor:"#fafafa"}}],{series:{lines:{lineWidth:2,fillColor:{colors:[{opacity:.1},{opacity:.1}]}},points:{lineWidth:3},shadowSize:0},grid:{hoverable:!0,clickable:!0,borderWidth:0,tickColor:"#E4E4E4"},colors:["#E7A13D","#FF3300"],yaxis:{font:{color:"#555"},ticks:8},xaxis:{mode:"time",timezone:"browser",minTickSize:[1,"day"],timeformat:"%a",font:{color:"#555"},tickColor:"#fafafa",autoscaleMargin:.02},legend:{labelBoxBorderColor:"transparent",backgroundColor:"transparent"},tooltip:!0,tooltipOpts:{content:"%s: %y"}})}function i(t){var a=[[e(2013,10,1),100],[e(2013,10,2),140],[e(2013,10,3),160],[e(2013,10,4),190],[e(2013,10,5),170],[e(2013,10,6),200],[e(2013,10,7),220],[e(2013,10,8),250],[e(2013,10,9),280],[e(2013,10,10),240],[e(2013,10,11),250],[e(2013,10,12),260],[e(2013,10,13),300],[e(2013,10,14),320],[e(2013,10,15),330],[e(2013,10,16),370],[e(2013,10,17),390],[e(2013,10,18),350],[e(2013,10,19),340],[e(2013,10,20),320],[e(2013,10,21),370],[e(2013,10,22),400],[e(2013,10,23),440],[e(2013,10,24),450],[e(2013,10,25),470],[e(2013,10,26),450],[e(2013,10,27),500],[e(2013,10,28),540],[e(2013,10,29),600],[e(2013,10,30),580],[e(2013,10,31),620]],r=[[e(2013,10,1),20],[e(2013,10,2),28],[e(2013,10,3),32],[e(2013,10,4),40],[e(2013,10,5),35],[e(2013,10,6),40],[e(2013,10,7),45],[e(2013,10,8),25],[e(2013,10,9),60],[e(2013,10,10),48],[e(2013,10,11),53],[e(2013,10,12),58],[e(2013,10,13),60],[e(2013,10,14),65],[e(2013,10,15),66],[e(2013,10,16),60],[e(2013,10,17),79],[e(2013,10,18),75],[e(2013,10,19),34],[e(2013,10,20),32],[e(2013,10,21),75],[e(2013,10,22),88],[e(2013,10,23),99],[e(2013,10,24),86],[e(2013,10,25),83],[e(2013,10,26),45],[e(2013,10,27),50],[e(2013,10,28),100],[e(2013,10,29),125],[e(2013,10,30),110],[e(2013,10,31),130]];$.plot(t,[{data:a,label:"Visits",bars:{show:!0,fill:!1,barWidth:.1,align:"center",lineWidth:18}},{data:r,label:"Sales"}],{series:{lines:{show:!0,lineWidth:2,fill:!1},points:{show:!0,lineWidth:3,fill:!0,fillColor:"#fafafa"},shadowSize:0},grid:{hoverable:!0,clickable:!0,borderWidth:0,tickColor:"#E4E4E4"},colors:["rgba(217,217,217, 0.3)","#d7ea2b"],yaxis:{font:{color:"#555"},ticks:8},xaxis:{mode:"time",timezone:"browser",minTickSize:[1,"day"],font:{color:"#555"},tickColor:"#fafafa",autoscaleMargin:.02},legend:{labelBoxBorderColor:"transparent",backgroundColor:"transparent"},tooltip:!0,tooltipOpts:{content:"%s: %y"}})}function l(t){var a=[[e(2013,1,1),200],[e(2013,2,1),300],[e(2013,3,1),360],[e(2013,4,1),340],[e(2013,5,1),440],[e(2013,6,1),600],[e(2013,7,1),1050],[e(2013,8,1),1700],[e(2013,9,1),1100],[e(2013,10,1),1200],[e(2013,11,1),1300],[e(2013,12,1),1500]],r=[[e(2013,1,1),100],[e(2013,2,1),155],[e(2013,3,1),180],[e(2013,4,1),172],[e(2013,5,1),222],[e(2013,6,1),300],[e(2013,7,1),550],[e(2013,8,1),452],[e(2013,9,1),552],[e(2013,10,1),600],[e(2013,11,1),680],[e(2013,12,1),750]];$.plot(t,[{data:a,label:"Visits"},{data:r,label:"Sales"}],{series:{lines:{show:!0,lineWidth:2,fill:!1},points:{show:!0,lineWidth:3,fill:!0,fillColor:"#fafafa"},shadowSize:0},grid:{hoverable:!0,clickable:!0,borderWidth:0,tickColor:"#E4E4E4"},colors:["#d9d9d9","#5399D6"],yaxis:{font:{color:"#555"},ticks:8},xaxis:{mode:"time",timezone:"browser",minTickSize:[1,"month"],font:{color:"#555"},tickColor:"#fafafa",autoscaleMargin:.02},legend:{labelBoxBorderColor:"transparent",backgroundColor:"transparent"},tooltip:!0,tooltipOpts:{content:"%s: %y"}})}function n(t){var a=[[e(2013,10,21),188],[e(2013,10,22),205],[e(2013,10,23),250],[e(2013,10,24),230],[e(2013,10,25),245],[e(2013,10,26),260],[e(2013,10,27),290]],r=[[e(2013,10,21),100],[e(2013,10,22),110],[e(2013,10,23),155],[e(2013,10,24),120],[e(2013,10,25),135],[e(2013,10,26),150],[e(2013,10,27),175]],o=[[e(2013,10,21),75],[e(2013,10,22),65],[e(2013,10,23),80],[e(2013,10,24),60],[e(2013,10,25),65],[e(2013,10,26),80],[e(2013,10,27),110]];$.plot(t,[{data:a,label:"Basic"},{data:r,label:"Gold"},{data:o,label:"Platinum"}],{bars:{show:!0,barWidth:162e5,fill:!0,order:!0,lineWidth:0,fillColor:{colors:[{opacity:1},{opacity:1}]}},grid:{hoverable:!0,clickable:!0,borderWidth:0,tickColor:"#E4E4E4"},colors:["#d9d9d9","#5399D6","#d7ea2b"],yaxis:{font:{color:"#555"}},xaxis:{mode:"time",timezone:"browser",minTickSize:[1,"day"],timeformat:"%a",font:{color:"#555"},tickColor:"#fafafa",autoscaleMargin:.2},legend:{labelBoxBorderColor:"transparent",backgroundColor:"transparent"},tooltip:!0,tooltipOpts:{content:"%s: %y"}})}function s(t){var e=[[188,1],[200,2],[225,3],[230,4],[250,5]],a=[[200,1],[220,2],[210,3],[240,4],[240,5]],r=[[100,1],[90,2],[150,3],[200,4],[235,5]];$.plot(t,[{data:e,label:"Basic"},{data:a,label:"Gold"},{data:r,label:"Platinum"}],{bars:{show:!0,horizontal:!0,barWidth:.2,fill:!0,order:!0,lineWidth:0,fillColor:{colors:[{opacity:1},{opacity:1}]}},grid:{hoverable:!0,clickable:!0,borderWidth:0,tickColor:"#E4E4E4"},colors:["#d9d9d9","#5399D6","#d7ea2b"],xaxis:{autoscaleMargin:.2},legend:{labelBoxBorderColor:"transparent",backgroundColor:"transparent"},tooltip:!0,tooltipOpts:{content:"%s: %x"}})}function c(t){var e={usa:{label:"USA",data:[[1988,483994],[1989,479060],[1990,457648],[1991,401949],[1992,424705],[1993,402375],[1994,377867],[1995,357382],[1996,337946],[1997,336185],[1998,328611],[1999,329421],[2e3,342172],[2001,344932],[2002,387303],[2003,440813],[2004,480451],[2005,504638],[2006,528692]]},russia:{label:"Russia",data:[[1988,218e3],[1989,203e3],[1990,171e3],[1992,42500],[1993,37600],[1994,36600],[1995,21700],[1996,19200],[1997,21300],[1998,13600],[1999,14e3],[2e3,19100],[2001,21300],[2002,23600],[2003,25100],[2004,26100],[2005,31100],[2006,34700]]},uk:{label:"UK",data:[[1988,62982],[1989,62027],[1990,60696],[1991,62348],[1992,58560],[1993,56393],[1994,54579],[1995,50818],[1996,50554],[1997,48276],[1998,47691],[1999,47529],[2e3,47778],[2001,48760],[2002,50949],[2003,57452],[2004,60234],[2005,60076],[2006,59213]]},germany:{label:"Germany",data:[[1988,55627],[1989,55475],[1990,58464],[1991,55134],[1992,52436],[1993,47139],[1994,43962],[1995,43238],[1996,42395],[1997,40854],[1998,40993],[1999,41822],[2e3,41147],[2001,40474],[2002,40604],[2003,40044],[2004,38816],[2005,38060],[2006,36984]]},denmark:{label:"Denmark",data:[[1988,3813],[1989,3719],[1990,3722],[1991,3789],[1992,3720],[1993,3730],[1994,3636],[1995,3598],[1996,3610],[1997,3655],[1998,3695],[1999,3673],[2e3,3553],[2001,3774],[2002,3728],[2003,3618],[2004,3638],[2005,3467],[2006,3770]]},sweden:{label:"Sweden",data:[[1988,6402],[1989,6474],[1990,6605],[1991,6209],[1992,6035],[1993,6020],[1994,6e3],[1995,6018],[1996,3958],[1997,5780],[1998,5954],[1999,6178],[2e3,6411],[2001,5993],[2002,5833],[2003,5791],[2004,5450],[2005,5521],[2006,5271]]},norway:{label:"Norway",data:[[1988,4382],[1989,4498],[1990,4535],[1991,4398],[1992,4766],[1993,4441],[1994,4670],[1995,4217],[1996,4275],[1997,4203],[1998,4482],[1999,4506],[2e3,4358],[2001,4385],[2002,5269],[2003,5066],[2004,5194],[2005,4887],[2006,4891]]}},a=0;$.each(e,function(t,e){e.color=a,++a});var r=$("#choices");$.each(e,function(t,e){r.append("<div class='simple-checkbox'><input type='checkbox' name='"+t+"' checked='checked' id='id"+t+"'></input><label for='id"+t+"'>"+e.label+"</label></div>")}),r.find("input").click(function(){d(t,e)}),d(t,e)}function d(t,e){var a=[];$("#choices").find("input:checked").each(function(){var t=$(this).attr("name");t&&e[t]&&a.push(e[t])}),a.length>0&&$.plot(t,a,{series:{lines:{show:!0,lineWidth:2,fill:!1},points:{show:!0,lineWidth:3,fill:!0,fillColor:"#fafafa"},shadowSize:0},grid:{hoverable:!0,clickable:!0,borderWidth:0,tickColor:"#E4E4E4"},xaxis:{tickDecimals:0,autoscaleMargin:.1,tickColor:"#fafafa"},yaxis:{min:0,max:7e5},colors:["#d9d9d9","#5399D6","#d7ea2b","#f30","#E7A13D"],legend:{labelBoxBorderColor:"transparent",backgroundColor:"transparent",noColumns:4},tooltip:!0,tooltipOpts:{content:"%s: $%y"}})}function h(t){var e=[{label:"United States",data:[[1990,18.9],[1991,18.7],[1992,18.4],[1993,19.3],[1994,19.5],[1995,19.3],[1996,19.4],[1997,20.2],[1998,19.8],[1999,19.9],[2e3,20.4],[2001,20.1],[2002,20],[2003,19.8],[2004,20.4]]},{label:"Russia",data:[[1992,13.4],[1993,12.2],[1994,10.6],[1995,10.2],[1996,10.1],[1997,9.7],[1998,9.5],[1999,9.7],[2e3,9.9],[2001,9.9],[2002,9.9],[2003,10.3],[2004,10.5]]},{label:"United Kingdom",data:[[1990,10],[1991,11.3],[1992,9.9],[1993,9.6],[1994,9.5],[1995,9.5],[1996,9.9],[1997,9.3],[1998,9.2],[1999,9.2],[2e3,9.5],[2001,9.6],[2002,9.3],[2003,9.4],[2004,9.79]]},{label:"Germany",data:[[1990,12.4],[1991,11.2],[1992,10.8],[1993,10.5],[1994,10.4],[1995,10.2],[1996,10.5],[1997,10.2],[1998,10.1],[1999,9.6],[2e3,9.7],[2001,10],[2002,9.7],[2003,9.8],[2004,9.79]]},{label:"Denmark",data:[[1990,9.7],[1991,12.1],[1992,10.3],[1993,11.3],[1994,11.7],[1995,10.6],[1996,12.8],[1997,10.8],[1998,10.3],[1999,9.4],[2e3,8.7],[2001,9],[2002,8.9],[2003,10.1],[2004,9.8]]},{label:"Sweden",data:[[1990,5.8],[1991,6],[1992,5.9],[1993,5.5],[1994,5.7],[1995,5.3],[1996,6.1],[1997,5.4],[1998,5.4],[1999,5.1],[2e3,5.2],[2001,5.4],[2002,6.2],[2003,5.9],[2004,5.89]]}],a={series:{lines:{show:!0,lineWidth:2,fill:!1},points:{show:!0,lineWidth:3,fill:!0,fillColor:"#fafafa"},shadowSize:0},grid:{hoverable:!0,clickable:!0,borderWidth:0,tickColor:"#E4E4E4"},legend:{noColumns:3,labelBoxBorderColor:"transparent",backgroundColor:"transparent"},xaxis:{tickDecimals:0,tickColor:"#fafafa"},yaxis:{min:0},colors:["#d9d9d9","#5399D6","#d7ea2b","#f30","#E7A13D"],tooltip:!0,tooltipOpts:{content:"%s: %y"},selection:{mode:"x"}},r=$.plot(t,e,a);t.bind("plotselected",function(o,i){r=$.plot(t,e,$.extend(!0,{},a,{xaxis:{min:i.xaxis.from,max:i.xaxis.to}}))}),$("#reset-chart-zoom").click(function(){r.setSelection({xaxis:{from:1990,to:2004}})})}function p(t,e){function a(){r(),$.plot(t,o,w),setTimeout(a,updateInterval)}function r(){for(i.shift();i.length<totalPoints;){var t=100*Math.random(),e=[now+=updateInterval,t];i.push(e)}}var o,i=[];totalPoints=200,updateInterval=1e3,now=(new Date).getTime(),w={series:{shadowSize:0,lines:{fill:!1}},grid:{borderWidth:0},colors:["#5399D6"],yaxis:{min:0,max:100,tickSize:5,tickFormatter:function(t){return t%10==0?t+"%":""},tickColor:"#e4e4e4"},xaxis:{mode:"time",tickSize:[2,"second"],tickFormatter:function(t){var e=new Date(t);if(e.getSeconds()%20==0){var a=e.getHours()<10?"0"+e.getHours():e.getHours(),r=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),o=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return a+":"+r+":"+o}return""},tickColor:"transparent"},legend:{show:!1}},"area"==e?(w.series.lines={fill:!0,fillColor:"#92D135"},w.colors=["#72AC1C"]):"bar"==e&&(w.series.bars={show:!0,barWidth:1,fill:!1},w.colors=["#F30"]),r(),o=[{data:i}],$.plot(t,o,w),a()}if($(".easy-pie-chart").length>0){var f={animate:3e3,trackColor:"#ccc",scaleColor:"#ddd",lineCap:"square",lineWidth:5,barColor:"#ef1e25",onStep:function(t,e,a){$(this.el).find(".percent").text(Math.round(a))}};f.barColor="#3E9C1A",$(".easy-pie-chart.green").easyPieChart(f),f.barColor="#FFB800",$(".easy-pie-chart.yellow").easyPieChart(f),f.barColor="#E60404",$(".easy-pie-chart.red").easyPieChart(f)}if($(".sales-chart").length>0){$placeholder=$(".sales-chart"),$placeholder.attr("data-ctype","#week"),o(".sales-chart"),$("#sales-stat-tab a").click(function(t){t.preventDefault(),$chartType=$(this).attr("href"),$("#sales-stat-tab li").removeClass("active"),$(this).parents("li").addClass("active"),"#week"==$chartType?o($placeholder):"#month"==$chartType?i($placeholder):"#year"==$chartType&&l($placeholder),$placeholder.attr("data-ctype",$chartType)})}if($(".sparkline-stat-item .inlinesparkline").length>0){var u=t(),m=function(){var t={width:""+$(".sparkline-stat-item").width(),height:"30px",lineWidth:"2",lineColor:"#71aadb",fillColor:"rgba(113,170,219, 0.1)",spotRadius:"2",highlightLineColor:"#aedaff",highlightSpotColor:"#71aadb",spotColor:!1,minSpotColor:!1,maxSpotColor:!1,disableInteraction:!1};$("#sparkline1").sparkline(u[0],t),$("#sparkline2").sparkline(u[1],t),$("#sparkline3").sparkline(u[2],t),$("#sparkline4").sparkline(u[3],t),$("#sparkline5").sparkline(u[4],t),$("#sparkline6").sparkline(u[5],t)};m()}if($(".secondary-stat-item .inlinesparkline").length>0){var b=t(),g=function(){var t={width:""+$(".secondary-stat-item").innerWidth(),height:"60px",spotRadius:"2",spotColor:!1,minSpotColor:!1,maxSpotColor:!1,lineWidth:1,lineColor:"rgba(255,255,255, 0.2)",fillColor:"rgba(255,255,255, 0.1)",highlightLineColor:"#fff",highlightSpotColor:"#fff",disableInteraction:!0};$(".secondary-stat-item #spark-stat1").sparkline(b[0],t),$(".secondary-stat-item #spark-stat2").sparkline(b[1],t),$(".secondary-stat-item #spark-stat3").sparkline(b[2],t)};g()}var k;if($(window).resize(function(){clearTimeout(k),$(".sparkline-stat-item .inlinesparkline").length>0&&(k=setTimeout(g,200)),$(".secondary-stat-item .inlinesparkline").length>0&&(k=setTimeout(m,200))}),$(".mini-pie-chart").length>0){var x=[[30,15,55],[65,25,10],[55,15,30],[25,25,50],[40,35,25],[70,15,15],[15,25,60]],C={type:"pie",sliceColors:["#d9d9d9","#5399D6","#d7ea2b"]};$("#mini-pie-chart1").sparkline(x[0],C),$("#mini-pie-chart2").sparkline(x[1],C),$("#mini-pie-chart3").sparkline(x[2],C),$("#mini-pie-chart4").sparkline(x[3],C),$("#mini-pie-chart5").sparkline(x[4],C),$("#mini-pie-chart6").sparkline(x[5],C),$("#mini-pie-chart7").sparkline(x[6],C)}if($(".mini-bar-chart").length>0){var y=t(),C={type:"bar",barWidth:5,height:25};C.barColor="#CE7B11",$("#mini-bar-chart1").sparkline(y[0],C),C.barColor="#1D92AF",$("#mini-bar-chart2").sparkline(y[1],C),C.barColor="#3F7577",$("#mini-bar-chart3").sparkline(y[2],C)}if($("#visit-chart, #demo-donut-chart").length>0){var v=[{label:"Direct",data:65},{label:"Referral",data:20},{label:"Others",data:15}];$.plot("#visit-chart, #demo-donut-chart",v,{series:{pie:{show:!0,innerRadius:.4,stroke:{width:4,color:"#F9F9F9"},label:{show:!0,radius:.75,formatter:a}}},legend:{show:!1},grid:{hoverable:!0},colors:["#d9d9d9","#5399D6","#d7ea2b"]})}$("#demo-line-chart").length>0&&l($("#demo-line-chart")),$("#demo-area-chart").length>0&&o($("#demo-area-chart")),$("#demo-vertical-bar-chart").length>0&&n($("#demo-vertical-bar-chart")),$("#demo-horizontal-bar-chart").length>0&&s($("#demo-horizontal-bar-chart")),$("#demo-multi-types-chart").length>0&&i($("#demo-multi-types-chart")),$("#demo-toggle-series-chart").length>0&&c($("#demo-toggle-series-chart")),$("#demo-select-zoom-chart").length>0&&h($("#demo-select-zoom-chart")),$("#demo-real-time-chart").length>0&&p($("#demo-real-time-chart"),"bar");var w;if($(".btn-change-chart").click(function(){w.series.lines={fill:!0,fillColor:"#92D135"},w.colors=["#72AC1C"]}),$("#select-chart-type").length>0&&($("#select-chart-type").multiselect({dropRight:!0}),$("#select-chart-type").change(function(){var t=$(this).val();"area"==t?(w.series.bars={show:!1},w.series.lines={fill:!0,fillColor:"#92D135"},w.colors=["#72AC1C"]):"bar"==t?(w.series.bars={show:!0,barWidth:1,fill:!1},w.colors=["#F30"]):"line"==t&&(w.series.bars={show:!1},w.series.lines={fill:!1},w.colors=["#5399D6"])})),$("#demo-d3-heatmap").length>0){var W="assets/js/stat/data-heatmap.tsv",S="#demo-d3-heatmap",E={top:50,right:0,bottom:100,left:30},D=960-E.left-E.right,z=430-E.top-E.bottom,M=Math.floor(D/24),B=2*M,A=9,T=colorbrewer.YlOrRd[9],F=["Mo","Tu","We","Th","Fr","Sa","Su"],R=["1a","2a","3a","4a","5a","6a","7a","8a","9a","10a","11a","12a","1p","2p","3p","4p","5p","6p","7p","8p","9p","10p","11p","12p"];d3.tsv(W,function(t){return{day:+t.day,hour:+t.hour,value:+t.value}},function(t,e){var a=d3.scale.quantile().domain([0,A-1,d3.max(e,function(t){return t.value})]).range(T),r=d3.select(S).append("svg").attr("width",D+E.left+E.right).attr("height",z+E.top+E.bottom).attr("viewBox","0 0 "+D+" "+(z+E.top+E.bottom)).attr("preserveAspectRatio","xMidYMid").append("g").attr("transform","translate("+E.left+","+E.top+")"),o=(r.selectAll(".dayLabel").data(F).enter().append("text").text(function(t){return t}).attr("x",0).attr("y",function(t,e){return e*M}).style("text-anchor","end").attr("transform","translate(-6,"+M/1.5+")").attr("class",function(t,e){return e>=0&&e<=4?"dayLabel mono axis axis-workweek":"dayLabel mono axis"}),r.selectAll(".timeLabel").data(R).enter().append("text").text(function(t){return t}).attr("x",function(t,e){return e*M}).attr("y",0).style("text-anchor","middle").attr("transform","translate("+M/2+", -6)").attr("class",function(t,e){return e>=7&&e<=16?"timeLabel mono axis axis-worktime":"timeLabel mono axis"}),r.selectAll(".hour").data(e).enter().append("rect").attr("x",function(t){return(t.hour-1)*M}).attr("y",function(t){return(t.day-1)*M}).attr("rx",4).attr("ry",4).attr("class","hour bordered").attr("width",M).attr("height",M).style("fill",T[0]));o.transition().duration(1e3).style("fill",function(t){return a(t.value)}),o.append("title").text(function(t){return t.value});var i=r.selectAll(".legend").data([0].concat(a.quantiles()),function(t){return t}).enter().append("g").attr("class","legend");i.append("rect").attr("x",function(t,e){return B*e}).attr("y",z).attr("width",B).attr("height",M/2).style("fill",function(t,e){return T[e]}),i.append("text").attr("class","mono").text(function(t){return"\u2265 "+Math.round(t)}).attr("x",function(t,e){return B*e}).attr("y",z+M)})}if($("#demo-d3-barchart").length>0){var O="assets/js/stat/data-barchart.tsv",L="#demo-d3-barchart",P={top:30,right:10,bottom:10,left:10},I=960-P.left-P.right,G=500-P.top-P.bottom,U=d3.scale.linear().range([0,I]),q=d3.scale.ordinal().rangeRoundBands([0,G],.2),H=d3.svg.axis().scale(U).orient("top"),V=d3.select(L).append("svg").attr("width",I+P.left+P.right).attr("height",G+P.top+P.bottom).attr("viewBox","0 0 "+D+" "+(G+E.top+E.bottom)).attr("preserveAspectRatio","xMidYMid").append("g").attr("transform","translate("+P.left+","+P.top+")");d3.tsv(O,function(t){return t.value=+t.value,t},function(t,e){U.domain(d3.extent(e,function(t){return t.value})).nice(),q.domain(e.map(function(t){return t.name})),V.selectAll(".bar").data(e).enter().append("rect").attr("class",function(t){return t.value<0?"bar negative":"bar positive"}).attr("x",function(t){return U(Math.min(0,t.value))}).attr("y",function(t){return q(t.name)}).attr("width",function(t){return Math.abs(U(t.value)-U(0))}).attr("height",q.rangeBand()),V.append("g").attr("class","x axis").call(H),V.append("g").attr("class","y axis").append("line").attr("x1",U(0)).attr("x2",U(0)).attr("y2",G)})}});