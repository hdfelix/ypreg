%fieldset
  %legend Administrative Info
  .form-group
    = f.label :role, 'User Role', class: 'col-md-2 control-label'
    .col-md-10
      - if policy(User).role_edit?
        = f.select :role, policy(@user).authorized_roles, {include_blank: true }, {class: 'form-control'}
      - else
        = @user.role
  .form-group
    = f.label :locality_id, class: 'col-md-2 control-label'
    .col-md-10
      .input-group
        - if policy(User).scyp_edit?
          = f.collection_select(:locality_id, Locality.all, :id, :city, { include_blank: 'Select locality' }, { class: 'form-control' })
          %span.input-group-addon
            %i.fa.fa-user
        - else
          = @user.locality_city
  .form-group
    = f.label :email, class: 'col-md-2 control-label'
    .col-md-10
      = f.email_field :email, class: 'form-control'
  .form-group
    = f.label :password, class: 'col-md-2 control-label'
    .col-md-10
      .input-group
        = f.password_field :password, class: 'form-control', placeholder: "Enter password"
        %span.input-group-addon
          %i.fa.fa-user
  /
    div class="form-group">
    <haml_loud> f.label :password, class: &#39;col-md-2 control-label&#39; </haml_loud> <i>(leave blank if you don't want to change it)</i>
    <div class="col-md-10">
    <haml_loud> f.password_field :password, autocomplete: &quot;off&quot;, class: &#39;form-control&#39; </haml_loud>
    </div>
    </div>
    
    <div class="form-group">
    <haml_loud> f.label :password_confirmation, class: &#39;col-md-2 control-label&#39; </haml_loud>
    <div class="col-md-10">
    <haml_loud> f.password_field :password_confirmation, autocomplete: &quot;off&quot;, class: &#39;form-control&#39; </haml_loud>
    </div>
    </div>
    
    <div class="form-group">
    <haml_loud> f.label :current_password, class: &#39;col-md-2 control-label&#39; </haml_loud>
    <div class="col-md-10">
    <i>(we need your current password to confirm your changes)</i>
    <haml_loud> f.password_field :current_password, autocomplete: &quot;off&quot;, class: &#39;form-control&#39; </haml_loud>
    </div>
    </div
%fieldset
  %legend General Information
  .form-group
    = f.label :name, 'Name', class: 'col-md-2 control-label'
    .col-md-10
      = f.text_field :name, autofocus: true, class: 'form-control'
  .form-group
    = f.label :gender, '', class: 'col-md-2 control-label'
    .col-md-10
      = f.select :gender, User::GENDER, { include_blank: 'Selet your gender' }, { class: 'form-control' }
  .form-group
    = f.label :age, '', class: 'col-md-2 control-label'
    .col-md-10
      = f.select :age, User::AGE, { include_blank: 'Select your age' }, { class: 'form-control' }
  .form-group
    = f.label :grade, '', class: 'col-md-2 control-label'
    .col-md-10
      = f.select :grade, User::GRADE, { include_blank: 'Select your grade' }, {class: 'form-control'}
  .form-group
    = f.label :home_phone, class: 'col-md-2 control-label'
    .col-md-10
      = f.text_field :home_phone, autofocus: true, class: 'form-control'
  .form-group
    = f.label :cell_phone, class: 'col-md-2 control-label'
    .col-md-10
      = f.phone_field :cell_phone, autofocus: true, class: 'form-control'
  .form-group
    = f.label :work_phone, class: 'col-md-2 control-label'
    .col-md-10
      = f.text_field :work_phone, autofocus: true, class: 'form-control'
  .form-group
    = f.label :birthday, class: 'col-md-2 control-label'
    .col-md-10
      .input-group.input-append.date
        %span.input-group-addon
          %i.fa.fa-calendar
        = f.text_field :birthday, class: 'form-control'
  .form-group
    = f.label :background_check_date, class: 'col-md-2 control-label'
    .col-md-10
      - if policy(User).scyp_edit?
        .input-group.input-append.date
          %span.input-group-addon
            %i.fa.fa-calendar
          = f.text_field :background_check_date, class: 'form-control', placeholder: "Last background check"
      - else
        = format_date(@user.background_check_date)
    %br/
