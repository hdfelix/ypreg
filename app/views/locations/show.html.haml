.content
  .row
    .main-header
      %h2= location.name
      %em Possible location for an event.
  .row
    .col-md-6.col-sm-12
      .widget
        .widget-header
          %h3
            %i.fa.fa-calendar-o>
            Details
        .widget-content
          .row
            .col-sm-4
              %strong Name:
            .col-sm-8
              = location.name
          .row
            .col-sm-4
              %strong Type:
            .col-sm-8
              = location.location_type
          .row
            .col-sm-4
              %strong Description:
            .col-sm-8
              = location.description
          .row
            .col-sm-4
              %strong Address:
            .col-sm-8
              = location.street_address
          .row
            .col-sm-4
            .col-sm-8
              = location.city_state_zip
          .row
            .col-sm-4
              %strong Capacity:
            .col-sm-8
              = location.max_capacity
        .panel-footer
          - if policy(@location).edit?
            = link_to 'Edit', edit_location_path(@location), class: 'btn btn-primary'
          - if policy(@location).destroy?
            = link_to 'Delete', @location, method: :delete,
              data: {confirm: 'Are you sure?'}, class: 'btn btn-danger'
  .row
    .col-md-12
      .widget.widget-table
        .widget-header
          %h3
            %i.fa.fa-table
            Lodgings
        .widget-content
          .table-responsive
            %table.table.table-bordered.table-striped.table-hover
              %thead
                %tr{:style => "font: bold"}
                  %th Name
                  %th Type
                  %th Capacity
                  %th
              %tbody
                - lodgings.each do |lodging|
                  - @lodging = lodging.object
                  %tr
                    %td= link_to lodging.name, @lodging
                    %td= lodging.lodging_type
                    %td= lodging.max_capacity
                    %td
                      - if policy(@lodging).edit?
                        = link_to 'Edit', edit_lodging_path(@lodging)
                      - if policy(@lodging).destroy?
                        = link_to 'Delete', lodging_path(@lodging), method: :delete, data: { confirm: 'Are you sure?' }
          - if lodgings.empty?
            %tr
              %td{:colspan => "7"}
                %center No lodgings at this location.
        .panel-footer
          = link_to new_lodging_path(location_id: @location.id), class: 'btn btn-primary' do
            = content_tag(:i, '', class: "fa fa-plus-square")
            New Lodging
